CREATE TABLE IF NOT EXISTS WFH_Backlog (
    Req_ID INT NOT NULL,                        -- Foreign Key from WFH_Request
    Staff_ID INT NOT NULL,                      -- Foreign Key from Employee
    Req_date DATE NOT NULL,                     -- Request Date
    Sched_date_am DATE[] NOT NULL,            -- Array type to store AM scheduled dates
    Sched_date_pm DATE[] NOT NULL,            -- Array type to store PM scheduled dates
    Approved BOOLEAN NOT NULL DEFAULT FALSE,     -- Approval status
    Rejected BOOLEAN NOT NULL DEFAULT FALSE,      -- Rejection status
    Reason VARCHAR(100),                         -- Reason for request
    FOREIGN KEY (Req_ID) REFERENCES WFH_Request(Req_ID) ON DELETE CASCADE,  -- Foreign Key to WFH_Request
    FOREIGN KEY (Staff_ID) REFERENCES Employee(Staff_ID) ON DELETE CASCADE,    -- Foreign Key to Employee
    PRIMARY KEY (Req_ID, Staff_ID)              -- Composite Primary Key
);
